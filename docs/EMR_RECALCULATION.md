# üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ü–µ—Ä–µ—Å—á–µ—Ç EMR - –ü–æ–ª–Ω–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 22.10.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–í–µ—Ä—Å–∏—è:** 1.0.0

---

## üìã –û–ë–ó–û–†

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **–ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ—Å—á–µ—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π** –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö EMR (Electronic Medical Record).

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π EMR**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∏ –Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ä–æ–≥–æ–≤
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**
   - –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∫–∞–∫ —Ç—Ä–µ–±—É—é—â–∏—Ö –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å —É—á–µ—Ç–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Ä–∞—á–∞–º**
   - WebSocket real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–µ–π—Å—Ç–≤–∏—è–º

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π EMR**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑ FHIR
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä—É—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π EMR
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
emr_recalculation/
‚îî‚îÄ‚îÄ service/
    ‚îî‚îÄ‚îÄ EmrRecalculationService.java         # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ—Å—á–µ—Ç–∞

external_emr_integration_service/service/
‚îú‚îÄ‚îÄ EmrSyncScheduler.java                    # –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å –ø–µ—Ä–µ—Å—á–µ—Ç–æ–º
‚îî‚îÄ‚îÄ EmrChangeDetectionService.java           # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

common/patients/entity/
‚îî‚îÄ‚îÄ Recommendation.java                       # –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –¥–ª—è –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞

enums/
‚îî‚îÄ‚îÄ RecommendationStatus.java                 # –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å REQUIRES_REVIEW
```

---

## üîç –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–û–†–û–ì–ò EMR

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä–æ–≥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------------------|----------|
| **GFR** | < 30 –∏–ª–∏ –ø–∞–¥–µ–Ω–∏–µ > 20 | –¢—è–∂–µ–ª–∞—è –ø–æ—á–µ—á–Ω–∞—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å |
| **PLT** | < 50 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–æ–º–±–æ—Ü–∏—Ç–æ–ø–µ–Ω–∏—è (—Ä–∏—Å–∫ –∫—Ä–æ–≤–æ—Ç–µ—á–µ–Ω–∏—è) |
| **WBC** | < 2.0 | –¢—è–∂–µ–ª–∞—è –ª–µ–π–∫–æ–ø–µ–Ω–∏—è (–∏–º–º—É–Ω–æ–¥–µ—Ñ–∏—Ü–∏—Ç) |
| **SAT** | < 90 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –≥–∏–ø–æ–∫—Å–∏—è |
| **–ù–∞—Ç—Ä–∏–π** | < 125 –∏–ª–∏ > 155 | –û–ø–∞—Å–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–æ–ª–∏—Ç–Ω—ã–π –¥–∏—Å–±–∞–ª–∞–Ω—Å |
| **–í–µ—Å** | –ò–∑–º–µ–Ω–µ–Ω–∏–µ > 10% | –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Å–∞ |
| **Child-Pugh** | –£—Ö—É–¥—à–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ | –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—á–µ–Ω–æ—á–Ω–æ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ |

---

## ‚öôÔ∏è –ê–õ–ì–û–†–ò–¢–ú –†–ê–ë–û–¢–´

### –®–∞–≥ 1: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```java
// –í EmrSyncScheduler –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è EMR
boolean hasChanges = emrChangeDetectionService.detectChanges(oldEmr, newEmr);

if (hasChanges) {
    List<EmrChangeAlertDTO> criticalAlerts = 
        emrChangeDetectionService.checkCriticalChanges(oldEmr, newEmr, mrn);
}
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –ø–µ—Ä–µ—Å—á–µ—Ç–∞

```java
// –ï—Å–ª–∏ –µ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
if (!criticalAlerts.isEmpty()) {
    emrRecalculationService.handleEmrChange(patient, oldEmr, newEmr);
}
```

### –®–∞–≥ 3: –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

```java
// –ù–∞–π—Ç–∏ –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
List<Recommendation> activeRecommendations = 
    recommendationRepository.findByPatientMrnAndStatus(mrn, RecommendationStatus.APPROVED);

// –ü–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ —Ç—Ä–µ–±—É—é—â–∏–µ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞
for (Recommendation rec : activeRecommendations) {
    rec.setStatus(RecommendationStatus.REQUIRES_REVIEW);
    rec.setReviewReason("GFR: 45 ‚Üí 25 (–¢—è–∂–µ–ª–∞—è –ø–æ—á–µ—á–Ω–∞—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å)");
    rec.setReviewRequestedAt(LocalDateTime.now());
    recommendationRepository.save(rec);
}
```

### –®–∞–≥ 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

```java
// –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π VAS
Integer lastVasLevel = patient.getVas().getLast().getPainLevel();

// –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é —Å —É—á–µ—Ç–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö EMR
Recommendation newRecommendation = 
    treatmentProtocolService.generateRecommendation(patient, lastVasLevel);

// –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –ø—Ä–∏—á–∏–Ω–µ –ø–µ—Ä–µ—Å—á–µ—Ç–∞
String note = "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑-–∑–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π EMR: " +
              "GFR: 45 ‚Üí 25";
newRecommendation.setJustification(newRecommendation.getJustification() + "\n\n" + note);
newRecommendation.setStatus(RecommendationStatus.PENDING);

recommendationRepository.save(newRecommendation);
```

### –®–∞–≥ 5: –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```java
// WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö EMR
UnifiedNotificationDTO emrAlert = UnifiedNotificationDTO.builder()
    .type(NotificationType.EMR_ALERT)
    .priority(NotificationPriority.CRITICAL)
    .title("–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ EMR: GFR")
    .message("GFR –∏–∑–º–µ–Ω–∏–ª—Å—è —Å 45 –Ω–∞ 25")
    .build();

unifiedNotificationService.sendCriticalNotification(emrAlert);

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
UnifiedNotificationDTO recAlert = UnifiedNotificationDTO.builder()
    .type(NotificationType.RECOMMENDATION_UPDATE)
    .priority(NotificationPriority.HIGH)
    .title("–ù–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è EMR")
    .message("–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –Ω–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è #" + newRecommendation.getId())
    .build();

unifiedNotificationService.sendNotification(recAlert);
```

---

## üì¶ –ù–û–í–´–ï –ü–û–õ–Ø –í RECOMMENDATION

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞:

```java
@Entity
@Table(name = "recommendation")
public class Recommendation {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
    
    // ========== EMR RECALCULATION FIELDS ========== //
    
    @Column(name = "review_reason", length = 2000)
    private String reviewReason;  // –ü—Ä–∏—á–∏–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞
    
    @Column(name = "review_requested_at")
    private LocalDateTime reviewRequestedAt;  // –ö–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—à–µ–Ω –ø–µ—Ä–µ—Å–º–æ—Ç—Ä
    
    @Column(name = "reviewed_by", length = 50)
    private String reviewedBy;  // –ö—Ç–æ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ–ª
    
    @Column(name = "reviewed_at")
    private LocalDateTime reviewedAt;  // –ö–æ–≥–¥–∞ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ–Ω–æ
    
    @Column(name = "description", length = 5000, columnDefinition = "TEXT")
    private String description;  // –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    
    @Column(name = "justification", length = 5000, columnDefinition = "TEXT")
    private String justification;  // –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
}
```

### –ù–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:

```java
public enum RecommendationStatus {
    PENDING,                          // –û–∂–∏–¥–∞–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è –≤—Ä–∞—á–∞
    APPROVED_BY_DOCTOR,              // –û–¥–æ–±—Ä–µ–Ω–æ –≤—Ä–∞—á–æ–º
    REJECTED_BY_DOCTOR,              // –û—Ç–∫–ª–æ–Ω–µ–Ω–æ –≤—Ä–∞—á–æ–º
    ESCALATED_TO_ANESTHESIOLOGIST,   // –≠—Å–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–æ –∞–Ω–µ—Å—Ç–µ–∑–∏–æ–ª–æ–≥—É
    APPROVED_BY_ANESTHESIOLOGIST,    // –û–¥–æ–±—Ä–µ–Ω–æ –∞–Ω–µ—Å—Ç–µ–∑–∏–æ–ª–æ–≥–æ–º
    REJECTED_BY_ANESTHESIOLOGIST,    // –û—Ç–∫–ª–æ–Ω–µ–Ω–æ –∞–Ω–µ—Å—Ç–µ–∑–∏–æ–ª–æ–≥–æ–º
    FINAL_APPROVED,                  // –§–∏–Ω–∞–ª—å–Ω–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ
    CANCELLED,                       // –û—Ç–º–µ–Ω–µ–Ω–æ
    REQUIRES_REVIEW,                 // üÜï –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞ –∏–∑-–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π EMR
    APPROVED                         // üÜï –û–¥–æ–±—Ä–µ–Ω–æ (–æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å)
}
```

---

## üîó –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è EMR (–∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤)

```java
// –í EmrSyncScheduler.syncSinglePatient()
@Scheduled(cron = "0 0 */6 * * *")
public EmrSyncResultDTO syncAllFhirPatients() {
    // ... —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è EMR –∏–∑ FHIR ...
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π EMR
    emrRepository.save(updatedEmr);
    
    // –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –ü–ï–†–ï–°–ß–ï–¢
    emrRecalculationService.handleEmrChange(
        currentEmr.getPatient(), 
        currentEmr, 
        updatedEmr
    );
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ FHIR
- –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –í—Ä–∞—á–∏ –ø–æ–ª—É—á–∞—é—Ç WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 2. –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ EMR —á–µ—Ä–µ–∑ API

```java
// –í NurseServiceImpl.updateEmr()
@Transactional
public EmrDTO updateEmr(String mrn, EmrDTO emrDto) {
    Patient patient = patientRepository.findByMrn(mrn)
        .orElseThrow(() -> new NotFoundException("Patient not found"));
    
    Emr oldEmr = patient.getEmr().getLast();
    
    // –û–±–Ω–æ–≤–ª—è–µ–º EMR
    Emr updatedEmr = updateEmrFromDto(oldEmr, emrDto);
    emrRepository.save(updatedEmr);
    
    // –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –ü–ï–†–ï–°–ß–ï–¢
    emrRecalculationService.handleEmrChange(patient, oldEmr, updatedEmr);
    
    return modelMapper.map(updatedEmr, EmrDTO.class);
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–∏ —Ä—É—á–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ EMR –º–µ–¥—Å–µ—Å—Ç—Ä–æ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

---

## üìä –ü–†–ò–ú–ï–†–´ –°–¶–ï–ù–ê–†–ò–ï–í

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø–∞–¥–µ–Ω–∏–µ GFR

**–ò—Å—Ö–æ–¥–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- –ü–∞—Ü–∏–µ–Ω—Ç: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ (MRN: EMR-12345)
- –¢–µ–∫—É—â–∏–π GFR: 45
- –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Tramadol 100mg PO q6h PRN

**–°–æ–±—ã—Ç–∏–µ:**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è EMR –∏–∑ FHIR
- –ù–æ–≤—ã–π GFR: 25 (–ø–∞–¥–µ–Ω–∏–µ –Ω–∞ 20 –µ–¥–∏–Ω–∏—Ü)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:**

1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è**
   ```
   WARN - CRITICAL EMR changes detected for patient EMR-12345: 1 alerts
   WARN - GFR: 45 ‚Üí 25 (Kidney function critically decreased)
   ```

2. **–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ä–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
   ```
   INFO - Recommendation #456 marked for review: GFR: 45 ‚Üí 25 (–¢—è–∂–µ–ª–∞—è –ø–æ—á–µ—á–Ω–∞—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å)
   ```

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
   ```
   INFO - Generating updated recommendations for patient EMR-12345 with new EMR data
   INFO - New recommendation #789 generated for patient EMR-12345 due to EMR changes
   ```
   
   **–ù–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
   - Tramadol 50mg PO q6h PRN (—Å–Ω–∏–∂–µ–Ω–æ –∏–∑-–∑–∞ GFR < 30)
   - Justification: "–î–æ–∑–∏—Ä–æ–≤–∫–∞ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å —É—á–µ—Ç–æ–º —Ç—è–∂–µ–ª–æ–π –ø–æ—á–µ—á–Ω–æ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ (GFR 25)"

4. **–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
   - EMR Alert (CRITICAL): "GFR –∏–∑–º–µ–Ω–∏–ª—Å—è —Å 45 –Ω–∞ 25"
   - Recommendation Update (HIGH): "–ù–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è #789 –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è EMR"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Ä–∞—á –ø–æ–ª—É—á–∞–µ—Ç real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –°—Ç–∞—Ä–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ REQUIRES_REVIEW
- –ù–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è —Å–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–æ–∑–∏—Ä–æ–≤–∫–æ–π –≤ —Å—Ç–∞—Ç—É—Å–µ PENDING
- –í—Ä–∞—á –º–æ–∂–µ—Ç –æ–¥–æ–±—Ä–∏—Ç—å –Ω–æ–≤—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–æ–º–±–æ—Ü–∏—Ç–æ–ø–µ–Ω–∏—è

**–ò—Å—Ö–æ–¥–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- –ü–∞—Ü–∏–µ–Ω—Ç: –ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞ (MRN: EMR-67890)
- –¢–µ–∫—É—â–∏–π PLT: 120
- –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Ketorolac 30mg IV q6h PRN

**–°–æ–±—ã—Ç–∏–µ:**
- –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ EMR –º–µ–¥—Å–µ—Å—Ç—Ä–æ–π
- –ù–æ–≤—ã–π PLT: 45 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–æ–º–±–æ—Ü–∏—Ç–æ–ø–µ–Ω–∏—è)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:**

1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è**
   ```
   WARN - CRITICAL EMR changes detected for patient EMR-67890: 1 alerts
   WARN - PLT: 120 ‚Üí 45 (Critically low platelets - bleeding risk)
   ```

2. **–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ä–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
   ```
   INFO - Recommendation #234 marked for review: PLT: 120 ‚Üí 45 (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–æ–º–±–æ—Ü–∏—Ç–æ–ø–µ–Ω–∏—è - —Ä–∏—Å–∫ –∫—Ä–æ–≤–æ—Ç–µ—á–µ–Ω–∏—è)
   ```

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
   ```
   INFO - New recommendation #567 generated for patient EMR-67890 due to EMR changes
   ```
   
   **–ù–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
   - Tramadol 50mg PO q6h PRN (Ketorolac –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω –∏–∑-–∑–∞ PLT < 50)
   - Justification: "–ù–ü–í–° –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω—ã –ø—Ä–∏ —Ç—Ä–æ–º–±–æ—Ü–∏—Ç–æ–ø–µ–Ω–∏–∏ < 50. –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω –æ–ø–∏–æ–∏–¥–Ω—ã–π –∞–Ω–∞–ª—å–≥–µ—Ç–∏–∫."

4. **–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
   - EMR Alert (CRITICAL): "PLT –∏–∑–º–µ–Ω–∏–ª—Å—è —Å 120 –Ω–∞ 45 - —Ä–∏—Å–∫ –∫—Ä–æ–≤–æ—Ç–µ—á–µ–Ω–∏—è"
   - Recommendation Update (HIGH): "–ù–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è #567 - –ù–ü–í–° –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω—ã"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Ä–∞—á –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–∑–Ω–∞–µ—Ç –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- –û–ø–∞—Å–Ω—ã–π –ø—Ä–µ–ø–∞—Ä–∞—Ç (Ketorolac) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π
- –°–Ω–∏–∂–µ–Ω —Ä–∏—Å–∫ –∫—Ä–æ–≤–æ—Ç–µ—á–µ–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ò—Å—Ö–æ–¥–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- –ü–∞—Ü–∏–µ–Ω—Ç: –ü–µ—Ç—Ä –°–∏–¥–æ—Ä–æ–≤ (MRN: EMR-11111)
- –¢–µ–∫—É—â–∏–π GFR: 50, PLT: 100, WBC: 5.0
- –ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: Morphine 10mg IV q4h PRN, Ketorolac 30mg IV q6h PRN

**–°–æ–±—ã—Ç–∏–µ:**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è EMR –∏–∑ FHIR
- –ù–æ–≤—ã–π GFR: 20, PLT: 40, WBC: 1.5

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:**

1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π**
   ```
   WARN - CRITICAL EMR changes detected for patient EMR-11111: 3 alerts
   WARN - GFR: 50 ‚Üí 20 (Kidney function critically decreased)
   WARN - PLT: 100 ‚Üí 40 (Critically low platelets - bleeding risk)
   WARN - WBC: 5.0 ‚Üí 1.5 (Critically low white blood cells - immunodeficiency)
   ```

2. **–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**
   ```
   INFO - Recommendation #111 marked for review: GFR: 50 ‚Üí 20; PLT: 100 ‚Üí 40; WBC: 5.0 ‚Üí 1.5
   INFO - Recommendation #222 marked for review: GFR: 50 ‚Üí 20; PLT: 100 ‚Üí 40; WBC: 5.0 ‚Üí 1.5
   ```

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**
   ```
   INFO - New recommendation #333 generated for patient EMR-11111 due to EMR changes
   ```
   
   **–ù–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
   - Tramadol 25mg PO q8h PRN (—Å–Ω–∏–∂–µ–Ω–æ –∏–∑-–∑–∞ GFR < 30)
   - Justification: "–î–æ–∑–∏—Ä–æ–≤–∫–∞ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å —É—á–µ—Ç–æ–º —Ç—è–∂–µ–ª–æ–π –ø–æ—á–µ—á–Ω–æ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ (GFR 20). –ù–ü–í–° –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω—ã –∏–∑-–∑–∞ PLT < 50. –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å –∏–∑-–∑–∞ –∏–º–º—É–Ω–æ–¥–µ—Ñ–∏—Ü–∏—Ç–∞ (WBC 1.5)."

4. **–û—Ç–ø—Ä–∞–≤–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
   - 3 EMR Alerts (CRITICAL) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
   - 1 Recommendation Update (HIGH) –æ –Ω–æ–≤–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Ä–∞—á –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –í—Å–µ –æ–ø–∞—Å–Ω—ã–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ
- –î–æ–∑–∏—Ä–æ–≤–∫–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –¢–µ—Å—Ç 1: –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ EMR —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º

```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π EMR –ø–∞—Ü–∏–µ–Ω—Ç–∞
GET /api/nurse/patients/EMR-12345/emr

# –¢–µ–∫—É—â–∏–π GFR: 45

# 2. –û–±–Ω–æ–≤–∏—Ç—å EMR —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º GFR
PUT /api/nurse/patients/EMR-12345/emr
Content-Type: application/json

{
  "gfr": "25",
  "plt": "120",
  "wbc": "5.0",
  "sodium": "140",
  "sat": "95",
  "weight": "70",
  "height": "175",
  "childPughScore": "A"
}

# ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# - EMR –æ–±–Ω–æ–≤–ª–µ–Ω
# - –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ GFR: 45 ‚Üí 25
# - –°—Ç–∞—Ä—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ REQUIRES_REVIEW
# - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –Ω–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è —Å–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–æ–∑–∏—Ä–æ–≤–∫–æ–π
# - –û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```

### –¢–µ—Å—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è EMR

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é (–∏–ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤)
POST /api/emr-integration/sync

# ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ FHIR –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
# - –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
# - –ü–µ—Ä–µ—Å—á–∏—Ç–∞–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
# - –û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

```bash
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞
GET /api/doctor/patients/EMR-12345/recommendations

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã:
# - –°—Ç–∞—Ä—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: status = "REQUIRES_REVIEW"
# - –ù–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: status = "PENDING"
# - reviewReason –∑–∞–ø–æ–ª–Ω–µ–Ω –¥–ª—è —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
```

---

## üìä –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤

```
INFO  - Handling EMR change for patient: EMR-12345
INFO  - EMR changes detected for patient EMR-12345
WARN  - CRITICAL EMR changes detected for patient EMR-12345: 1 alerts
INFO  - Processing 1 critical EMR changes for patient EMR-12345
INFO  - Found 2 active recommendations for patient EMR-12345
INFO  - Recommendation 456 marked for review: GFR: 45 ‚Üí 25 (–¢—è–∂–µ–ª–∞—è –ø–æ—á–µ—á–Ω–∞—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å)
INFO  - Recommendation 457 marked for review: GFR: 45 ‚Üí 25 (–¢—è–∂–µ–ª–∞—è –ø–æ—á–µ—á–Ω–∞—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å)
INFO  - Generating updated recommendations for patient EMR-12345 with new EMR data
INFO  - New recommendation 789 generated for patient EMR-12345 due to EMR changes
INFO  - EMR change notifications sent for patient EMR-12345
INFO  - New recommendation notification sent for patient EMR-12345
INFO  - Critical EMR changes processed successfully for patient EMR-12345
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

- [x] EmrRecalculationService —Å–æ–∑–¥–∞–Ω
- [x] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π EMR
- [x] –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∫–∞–∫ REQUIRES_REVIEW
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å —É—á–µ—Ç–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [x] –û—Ç–ø—Ä–∞–≤–∫–∞ WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å EmrSyncScheduler
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è EMR
- [x] –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ Recommendation entity
- [x] –ù–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- [x] –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üöÄ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ—Å—á–µ—Ç–∞ EMR –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

1. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ EMR (–∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤)
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —Ä—É—á–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ EMR
3. ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Ä–∞—á–∞–º
4. ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üìö –°–í–Ø–ó–ê–ù–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

- [WebSocket Real-Time Notifications](WEBSOCKET_REALTIME_NOTIFICATIONS.md)
- [Pain Escalation Module](PAIN_ESCALATION_MODULE.md)
- [EMR Sync Scheduler](../src/main/java/pain_helper_back/external_emr_integration_service/service/EmrSyncScheduler.java)

---

**–ê–≤—Ç–æ—Ä:** Pain Management Team  
**–î–∞—Ç–∞:** 22.10.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
