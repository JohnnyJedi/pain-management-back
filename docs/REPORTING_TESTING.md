# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –º–æ–¥—É–ª—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
2. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∞–≥—Ä–µ–≥–∞—Ü–∏–∏)
3. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-api)
4. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—ç–∫—Å–ø–æ—Ä—Ç–∞)
5. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Email](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-email)

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
mvn spring-boot:run
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Health
```bash
curl http://localhost:8080/api/reports/health
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö MongoDB
```javascript
db.analytics_events.insertMany([
  {
    eventType: "PATIENT_REGISTERED",
    timestamp: ISODate("2025-10-18T10:30:00Z"),
    userId: "user123",
    metadata: {}
  },
  {
    eventType: "VAS_RECORDED",
    timestamp: ISODate("2025-10-18T11:00:00Z"),
    userId: "user123",
    metadata: { vasLevel: "7" }
  }
])
```

---

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏

### –¢–µ—Å—Ç 1: –†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
```bash
curl -X POST "http://localhost:8080/api/reports/daily/generate?date=2025-10-18"
```
**–û–∂–∏–¥–∞–µ—Ç—Å—è:** HTTP 201, —Å–æ–∑–¥–∞–Ω –æ—Ç—á–µ—Ç

### –¢–µ—Å—Ç 2: –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
```bash
curl -X POST "http://localhost:8080/api/reports/daily/generate?date=2025-10-18"
```
**–û–∂–∏–¥–∞–µ—Ç—Å—è:** HTTP 409 Conflict

### –¢–µ—Å—Ç 3: –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
```bash
curl -X POST "http://localhost:8080/api/reports/daily/generate?date=2025-10-18&regenerate=true"
```
**–û–∂–∏–¥–∞–µ—Ç—Å—è:** HTTP 201, –æ—Ç—á–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω

---

## üåê –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –¢–µ—Å—Ç 4: –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
```bash
curl http://localhost:8080/api/reports/daily/2025-10-18
```
**–û–∂–∏–¥–∞–µ—Ç—Å—è:** HTTP 200, JSON —Å –¥–∞–Ω–Ω—ã–º–∏

### –¢–µ—Å—Ç 5: –û—Ç—á–µ—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥
```bash
curl "http://localhost:8080/api/reports/daily?startDate=2025-10-01&endDate=2025-10-19"
```
**–û–∂–∏–¥–∞–µ—Ç—Å—è:** HTTP 200, –º–∞—Å—Å–∏–≤ –æ—Ç—á–µ—Ç–æ–≤

### –¢–µ—Å—Ç 6: –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```bash
curl "http://localhost:8080/api/reports/summary?startDate=2025-10-01&endDate=2025-10-19"
```
**–û–∂–∏–¥–∞–µ—Ç—Å—è:** HTTP 200, –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üìÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞

### –¢–µ—Å—Ç 7: Excel —ç–∫—Å–ø–æ—Ä—Ç
```bash
curl -o report.xlsx "http://localhost:8080/api/reports/daily/2025-10-18/export/excel"
```
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ Excel, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 8: PDF —ç–∫—Å–ø–æ—Ä—Ç
```bash
curl -o report.pdf "http://localhost:8080/api/reports/daily/2025-10-18/export/pdf"
```
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –û—Ç–∫—Ä–æ–π—Ç–µ PDF, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å

---

## üìß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Email

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mailtrap
```properties
spring.mail.host=sandbox.smtp.mailtrap.io
spring.mail.port=2525
spring.mail.username=your-username
spring.mail.password=your-password
```

### –¢–µ—Å—Ç 9: –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–∞
```bash
curl -X POST "http://localhost:8080/api/reports/daily/2025-10-18/email?email=test@example.com"
```
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Mailtrap inbox, –ø–∏—Å—å–º–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] Health check —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
- [ ] –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –∑–∞ –¥–∞—Ç—É
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥
- [ ] –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- [ ] Excel —ç–∫—Å–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] PDF —ç–∫—Å–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Email –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- [ ] –í–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é—Ç—Å—è
- [ ] Cleanup —Å—Ç–∞—Ä—ã—Ö —Å–æ–±—ã—Ç–∏–π
- [ ] @Scheduled –∑–∞–¥–∞—á–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
